
import java.util.HashMap;
import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBException;
import javax.xml.bind.Marshaller;

public class ContentTypeRequestHandler {
    public static String generateRequestPayload(Object input, String contentType) {
        if (contentType.equals("application/json")) {
            return generateJsonPayload(input);
        } else if (contentType.equals("application/xml")) {
            if (input instanceof HashMap) {
                throw new IllegalArgumentException("Invalid input type for XML content type.");
            }
            return generateXmlPayload(input);
        } else if (contentType.equals("application/x-www-form-urlencoded")) {
            if (!(input instanceof HashMap)) {
                throw new IllegalArgumentException("Invalid input type for URL encoded content type.");
            }
            return generateUrlEncodedPayload((HashMap<String, String>) input);
        } else {
            throw new IllegalArgumentException("Unsupported content type: " + contentType);
        }
    }
    
    private static String generateJsonPayload(Object input) {
        // Logic to convert input object to JSON payload
        return "JSON Payload";
    }
    
    private static String generateXmlPayload(Object input) {
        try {
            JAXBContext jaxbContext = JAXBContext.newInstance(input.getClass());
            Marshaller marshaller = jaxbContext.createMarshaller();
            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
            // Convert input object to XML payload
            // Example: marshaller.marshal(input, System.out);
            return "XML Payload";
        } catch (JAXBException e) {
            e.printStackTrace();
            throw new RuntimeException("Failed to generate XML payload.");
        }
    }
    
    private static String generateUrlEncodedPayload(HashMap<String, String> input) {
        // Logic to convert input hashmap to URL encoded payload
        return "URL Encoded Payload";
    }
}
public class Main {
    public static void main(String[] args) {
        Object input = new Object();  // Replace with your actual input object
        
        String jsonPayload = ContentTypeRequestHandler.generateRequestPayload(input, "application/json");
        System.out.println("JSON Payload: " + jsonPayload);
        
        String xmlPayload = ContentTypeRequestHandler.generateRequestPayload(input, "application/xml");
        System.out.println("XML Payload: " + xmlPayload);
        
        HashMap<String, String> urlEncodedInput = new HashMap<>();  // Replace with your actual input hashmap
        String urlEncodedPayload = ContentTypeRequestHandler.generateRequestPayload(urlEncodedInput, "application/x-www-form-urlencoded");
        System.out.println("URL Encoded Payload: " + urlEncodedPayload);
    }
}
_â€”------------------

import java.util.HashMap;
import java.util.Map;
import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBException;
import javax.xml.bind.Marshaller;

public class ContentTypeRequestHandler {
    private Map<String, ContentTypeHandler<String, ?>> handlers;

    public ContentTypeRequestHandler() {
        handlers = new HashMap<>();
        registerHandler("application/json", input -> generateJsonPayload(input));
        registerHandler("application/xml", input -> generateXmlPayload(input));
        registerHandler("application/x-www-form-urlencoded", input -> generateUrlEncodedPayload(input));
    }

    public String generateRequestPayload(Object input, String contentType) {
        ContentTypeHandler<String, ?> handler = handlers.get(contentType);
        if (handler != null) {
            return handler.generatePayload(input);
        } else {
            throw new IllegalArgumentException("Unsupported content type: " + contentType);
        }
    }

    public void registerHandler(String contentType, ContentTypeHandler<String, ?> handler) {
        handlers.put(contentType, handler);
    }

    private String generateJsonPayload(Object input) {
        // Logic to convert input object to JSON payload
        return "JSON Payload";
    }

    private String generateXmlPayload(Object input) {
        try {
            JAXBContext jaxbContext = JAXBContext.newInstance(input.getClass());
            Marshaller marshaller = jaxbContext.createMarshaller();
            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
            // Convert input object to XML payload
            // Example: marshaller.marshal(input, System.out);
            return "XML Payload";
        } catch (JAXBException e) {
            e.printStackTrace();
            throw new RuntimeException("Failed to generate XML payload.");
        }
    }

    private String generateUrlEncodedPayload(HashMap<String, String> input) {
        // Logic to convert input hashmap to URL encoded payload
        return "URL Encoded Payload";
    }
}
